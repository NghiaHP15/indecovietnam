{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/D%E1%BB%B1%20%C3%81n/indecovietnam/indecovietnam/indeco-client/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/constants/utils\"\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn(\"leading-none font-semibold\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn(\"px-6\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,yHAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,yHAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,yHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,yHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,yHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,yHAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,yHAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///D:/D%E1%BB%B1%20%C3%81n/indecovietnam/indecovietnam/indeco-client/src/icons/index.tsx"],"sourcesContent":["\r\nimport React from 'react'\r\n\r\ninterface Props {\r\n    className?: string;\r\n    width?: string | number;\r\n    height?: string | number;\r\n}\r\n\r\nexport const GoogleIcon: React.FC<Props> = ({ className, width, height }: Props) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" className={className} width={width} height={height} viewBox=\"0 0 48 48\">\r\n    <path fill=\"#FFC107\" d=\"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z\"></path><path fill=\"#FF3D00\" d=\"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z\"></path><path fill=\"#4CAF50\" d=\"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z\"></path><path fill=\"#1976D2\" d=\"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z\"></path>\r\n    </svg>\r\n)\r\n\r\nexport const FacebookIcon: React.FC<Props> = ({ className, width, height }: Props) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" className={className} width={width} height={height} viewBox=\"0 0 48 48\">\r\n    <path fill=\"#039be5\" d=\"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z\"></path><path fill=\"#fff\" d=\"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z\"></path>\r\n    </svg>\r\n)\r\n"],"names":[],"mappings":";;;;;;AASO,MAAM,aAA8B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAS,iBAC3E,8OAAC;QAAI,OAAM;QAA6B,GAAE;QAAM,GAAE;QAAM,WAAW;QAAW,OAAO;QAAO,QAAQ;QAAQ,SAAQ;;0BACpH,8OAAC;gBAAK,MAAK;gBAAU,GAAE;;;;;;0BAA0S,8OAAC;gBAAK,MAAK;gBAAU,GAAE;;;;;;0BAA2K,8OAAC;gBAAK,MAAK;gBAAU,GAAE;;;;;;0BAAuK,8OAAC;gBAAK,MAAK;gBAAU,GAAE;;;;;;;;;;;;AAIrtB,MAAM,eAAgC,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAS,iBAC7E,8OAAC;QAAI,OAAM;QAA6B,GAAE;QAAM,GAAE;QAAM,WAAW;QAAW,OAAO;QAAO,QAAQ;QAAQ,SAAQ;;0BACpH,8OAAC;gBAAK,MAAK;gBAAU,GAAE;;;;;;0BAAmD,8OAAC;gBAAK,MAAK;gBAAO,GAAE","debugId":null}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///D:/D%E1%BB%B1%20%C3%81n/indecovietnam/indecovietnam/indeco-client/src/components/SocalLoginButton.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport React from \"react\";\r\nimport { Button } from \"./ui/button\";\r\nimport { FacebookIcon, GoogleIcon } from \"@/icons\";\r\nimport { signIn } from \"next-auth/react\";\r\n\r\nconst SocalLoginButton = () => {\r\n    \r\n    return (\r\n        <div className=\"flex items-center justify-center gap-4\">\r\n            <Button\r\n                onClick={() => signIn(\"google\", { callbackUrl: \"/\" })}\r\n                className=\"bg-gray-50 hover:bg-gray-100 text-darkColor\"\r\n            >\r\n                <GoogleIcon className=\"size-5\"/>Đăng nhập Google\r\n            </Button>\r\n            <Button\r\n                onClick={() => signIn(\"facebook\", { callbackUrl: \"/\" })}\r\n                className=\"bg-gray-50 hover:bg-gray-100 text-darkColor\"\r\n            >\r\n                <FacebookIcon className=\"size-5\" />Đăng nhập Facebook\r\n            </Button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SocalLoginButton;\r\n"],"names":[],"mappings":"AAAA,qDAAqD;;;;AAErD;AACA;AACA;;;;;AAEA,MAAM,mBAAmB;IAErB,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC,kIAAA,CAAA,SAAM;gBACH,SAAS,IAAM,CAAA,GAAA,8IAAA,CAAA,SAAM,AAAD,EAAE,UAAU;wBAAE,aAAa;oBAAI;gBACnD,WAAU;;kCAEV,8OAAC,sHAAA,CAAA,aAAU;wBAAC,WAAU;;;;;;oBAAU;;;;;;;0BAEpC,8OAAC,kIAAA,CAAA,SAAM;gBACH,SAAS,IAAM,CAAA,GAAA,8IAAA,CAAA,SAAM,AAAD,EAAE,YAAY;wBAAE,aAAa;oBAAI;gBACrD,WAAU;;kCAEV,8OAAC,sHAAA,CAAA,eAAY;wBAAC,WAAU;;;;;;oBAAW;;;;;;;;;;;;;AAInD;uCAEe","debugId":null}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file:///D:/D%E1%BB%B1%20%C3%81n/indecovietnam/indecovietnam/indeco-client/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/constants/utils\"\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\r\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,yHAAA,CAAA,KAAE,AAAD,EACV,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":["file:///D:/D%E1%BB%B1%20%C3%81n/indecovietnam/indecovietnam/indeco-client/src/components/ui/input-otp.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { OTPInput, OTPInputContext } from \"input-otp\"\r\nimport { MinusIcon } from \"lucide-react\"\r\nimport { cn } from \"@/constants/utils\"\r\n\r\nfunction InputOTP({\r\n  className,\r\n  containerClassName,\r\n  ...props\r\n}: React.ComponentProps<typeof OTPInput> & {\r\n  containerClassName?: string\r\n}) {\r\n  return (\r\n    <OTPInput\r\n      data-slot=\"input-otp\"\r\n      containerClassName={cn(\r\n        \"flex items-center gap-2 has-disabled:opacity-50\",\r\n        containerClassName\r\n      )}\r\n      className={cn(\"disabled:cursor-not-allowed\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction InputOTPGroup({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"input-otp-group\"\r\n      className={cn(\"flex items-center gap-2\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction InputOTPSlot({\r\n  index,\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"div\"> & {\r\n  index: number\r\n}) {\r\n  const inputOTPContext = React.useContext(OTPInputContext)\r\n  const { char, hasFakeCaret, isActive } = inputOTPContext?.slots[index] ?? {}\r\n\r\n  return (\r\n    <div\r\n      data-slot=\"input-otp-slot\"\r\n      data-active={isActive}\r\n      className={cn(\r\n        \"data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none rounded-md border data-[active=true]:z-10 data-[active=true]:ring-[3px]\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {char}\r\n      {hasFakeCaret && (\r\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\r\n          <div className=\"animate-caret-blink bg-foreground h-4 w-px duration-1000\" />\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction InputOTPSeparator({ ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div data-slot=\"input-otp-separator\" role=\"separator\" {...props}>\r\n      <MinusIcon />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,SAAS,SAAS,EAChB,SAAS,EACT,kBAAkB,EAClB,GAAG,OAGJ;IACC,qBACE,8OAAC,8IAAA,CAAA,WAAQ;QACP,aAAU;QACV,oBAAoB,CAAA,GAAA,yHAAA,CAAA,KAAE,AAAD,EACnB,mDACA;QAEF,WAAW,CAAA,GAAA,yHAAA,CAAA,KAAE,AAAD,EAAE,+BAA+B;QAC5C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,cAAc,EAAE,SAAS,EAAE,GAAG,OAAoC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,yHAAA,CAAA,KAAE,AAAD,EAAE,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,KAAK,EACL,SAAS,EACT,GAAG,OAGJ;IACC,MAAM,kBAAkB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAAE,8IAAA,CAAA,kBAAe;IACxD,MAAM,EAAE,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAE,GAAG,iBAAiB,KAAK,CAAC,MAAM,IAAI,CAAC;IAE3E,qBACE,8OAAC;QACC,aAAU;QACV,eAAa;QACb,WAAW,CAAA,GAAA,yHAAA,CAAA,KAAE,AAAD,EACV,0dACA;QAED,GAAG,KAAK;;YAER;YACA,8BACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;;;;;;;;;;;;;;;;AAKzB;AAEA,SAAS,kBAAkB,EAAE,GAAG,OAAoC;IAClE,qBACE,8OAAC;QAAI,aAAU;QAAsB,MAAK;QAAa,GAAG,KAAK;kBAC7D,cAAA,8OAAC,wMAAA,CAAA,YAAS;;;;;;;;;;AAGhB","debugId":null}},
    {"offset": {"line": 393, "column": 0}, "map": {"version":3,"sources":["file:///D:/D%E1%BB%B1%20%C3%81n/indecovietnam/indecovietnam/indeco-client/src/app/forgot-password/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport Container from \"@/components/Container\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { bgLogin } from \"@/images\";\r\nimport SocalLoginButton from \"@/components/SocalLoginButton\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { confirmOtp, forgotPassword, resetPassword } from \"@/services/authService\";\r\nimport Link from \"next/link\";\r\nimport { ChevronLeft, EyeClosedIcon, EyeIcon } from \"lucide-react\";\r\nimport { InputOTP, InputOTPGroup, InputOTPSlot } from \"@/components/ui/input-otp\";\r\nimport { REGEXP_ONLY_DIGITS } from \"input-otp\";\r\nimport { z } from \"zod\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport toast from \"react-hot-toast\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nconst otpSchema = z.object({\r\n  otp: z.string().length(6, { message: \"Mã OTP phải đủ 6 số\" }),\r\n});\r\n\r\nconst forgotPasswordSchema = z.object({\r\n  email: z.string().email(\"Email không hợp lệ!\").min(1, \"Vui lòng nhập email!\"),\r\n});\r\n\r\nconst resetPasswordSchema = z\r\n  .object({\r\n    newPassword: z.string().min(6, \"Mật khẩu phải có ít nhất 6 ký tự!\"),\r\n    confirmPassword: z.string().min(6, \"Mật khẩu phải có ít nhất 6 ký tự!\"),\r\n  })\r\n  .refine((data) => data.newPassword === data.confirmPassword, {\r\n    path: [\"confirmPassword\"],\r\n    message: \"Mật khẩu không khớp!\",\r\n  });\r\n\r\nenum Step {\r\n  FORGOT_PASSWORD = \"forgot-password\",\r\n  OTP = \"otp\",\r\n  RESET_PASSWORD = \"reset-password\",\r\n}\r\n\r\nexport default function ForgotPassword() {\r\n  const [loadingForgot, setLoadingForgot] = useState(false);\r\n  const [loadingOtp, setLoadingOtp] = useState(false);\r\n  const [loadingReset, setLoadingReset] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [step, setStep] = useState<Step>(Step.FORGOT_PASSWORD);\r\n  const [token, setToken] = useState(\"\");\r\n  const timeRef = useRef<HTMLSpanElement>(null);\r\n  const timeLeft = useRef(300); // 3 phút\r\n  const [isFinished, setIsFinished] = useState(false);\r\n  const router = useRouter();\r\n\r\n  // Timer\r\n  useEffect(() => {\r\n    if (step !== Step.OTP) return;\r\n    timeLeft.current = 300;\r\n    setIsFinished(false);\r\n    const interval = setInterval(() => {\r\n      timeLeft.current -= 1;\r\n      if (timeLeft.current < 0) {\r\n        clearInterval(interval);\r\n        setIsFinished(true);\r\n        return;\r\n      }\r\n      const m = Math.floor(timeLeft.current / 60).toString().padStart(2, \"0\");\r\n      const s = (timeLeft.current % 60).toString().padStart(2, \"0\");\r\n      if (timeRef.current) timeRef.current.textContent = `${m}:${s}`;\r\n    }, 1000);\r\n    return () => clearInterval(interval);\r\n  }, [step]);\r\n\r\n  // Forms\r\n  const forgotPasswordForm = useForm<z.infer<typeof forgotPasswordSchema>>({\r\n    resolver: zodResolver(forgotPasswordSchema),\r\n    defaultValues: { email: \"\" },\r\n  });\r\n\r\n  const otpForm = useForm<z.infer<typeof otpSchema>>({\r\n    resolver: zodResolver(otpSchema),\r\n    defaultValues: { otp: \"\" },\r\n  });\r\n\r\n  const resetPasswordForm = useForm<z.infer<typeof resetPasswordSchema>>({\r\n    resolver: zodResolver(resetPasswordSchema),\r\n    defaultValues: { newPassword: \"\", confirmPassword: \"\" },\r\n  });\r\n\r\n  // Handlers\r\n  const handleForgotPasswordSubmit = async (formData: z.infer<typeof forgotPasswordSchema>) => {\r\n    try {\r\n      setLoadingForgot(true);\r\n      timeLeft.current = 300;\r\n      otpForm.reset();\r\n      const res = await forgotPassword({ email: formData.email });\r\n      if (res.data.success) {\r\n        setToken(res.data.data.token || \"\");\r\n        setStep(Step.OTP);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Gửi email thất bại:\", err);\r\n    } finally {\r\n      setLoadingForgot(false);\r\n    }\r\n  };\r\n\r\n  const handleOTPSubmit = async (formData: z.infer<typeof otpSchema>) => {\r\n    try {\r\n      setLoadingOtp(true);\r\n      const res = await confirmOtp({ token: token, otp: formData.otp });\r\n      if (res.data.success === true) {\r\n        setToken(res.data.data.token || token);\r\n        setStep(Step.RESET_PASSWORD);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Gửi OTP thất bại:\", err);\r\n      if(timeLeft.current > 0) otpForm.setError(\"otp\", { message: \"Mã OTP không hợp lệ!\" });\r\n        else otpForm.setError(\"otp\", { message: \"Mã OTP hết hạn!\" });\r\n    } finally {\r\n      setLoadingOtp(false);\r\n    }\r\n  };\r\n\r\n  const handleResetPasswordSubmit = async (formData: z.infer<typeof resetPasswordSchema>) => {\r\n    try {\r\n      setLoadingReset(true);\r\n      const res = await resetPassword({ token, newPassword: formData.newPassword });\r\n      if (res.data.success) {\r\n        toast.success(\"Đổi mật khẩu thành công!\");\r\n        router.push(\"/login\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Đổi mật khẩu thất bại:\", err);\r\n    } finally {\r\n      setLoadingReset(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <div className=\"flex items-center mt-10 justify-center py-12 md:py-32 p-0 md:p-4\">\r\n        <Card className=\"w-full md:w-[800px] p-4\">\r\n          <CardContent className=\"px-0\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n              <div\r\n                style={{\r\n                  backgroundImage: `url(${bgLogin.src})`,\r\n                  backgroundSize: \"cover\",\r\n                  backgroundRepeat: \"no-repeat\",\r\n                  backgroundPosition: \"center\",\r\n                }}\r\n                className=\"rounded-md h-[300px] md:h-full\"\r\n              />\r\n\r\n              {/* Step 1: Quên mật khẩu */}\r\n              {step === Step.FORGOT_PASSWORD && (\r\n                <form onSubmit={forgotPasswordForm.handleSubmit(handleForgotPasswordSubmit)} className=\"flex flex-col gap-4 md:py-20 py-6\">\r\n                  <h1 className=\"text-2xl font-bold\">Quên mật khẩu</h1>\r\n                  <span>Nhập email đăng ký tài khoản của bạn</span>\r\n                  <Input {...forgotPasswordForm.register(\"email\")} placeholder=\"user@gmail.com\" />\r\n                  {forgotPasswordForm.formState.errors.email && (\r\n                    <p className=\"text-red-500 text-sm\">{forgotPasswordForm.formState.errors.email.message}</p>\r\n                  )}\r\n                  <Button type=\"submit\" isLoading={loadingForgot} className=\"bg-btn_dark_brownish hover:bg-btn_light_brownish w-full font-bold\">\r\n                    Gửi Email\r\n                  </Button>\r\n                  <div className=\"text-center text-sm text-gray-400\">Hoặc</div>\r\n                  <SocalLoginButton />\r\n                </form>\r\n              )}\r\n\r\n              {/* Step 2: OTP */}\r\n              {step === Step.OTP && (\r\n                <form onSubmit={otpForm.handleSubmit(handleOTPSubmit)} className=\"flex flex-col gap-6 md:py-20 py-6\">\r\n                  <h1 className=\"text-2xl font-bold\">Mã xác nhận</h1>\r\n                  <span>Nhập OTP đã gửi vào email</span>\r\n                  <Controller\r\n                    name=\"otp\"\r\n                    control={otpForm.control}\r\n                    render={({ field }) => (\r\n                      <InputOTP\r\n                        value={field.value}\r\n                        onChange={(val) => field.onChange(val)} // val là string, khớp kiểu OTPInput\r\n                        onBlur={field.onBlur}\r\n                        maxLength={6}\r\n                        pattern={REGEXP_ONLY_DIGITS}\r\n                        // ...các prop khác bạn cần\r\n                      >\r\n                        <InputOTPGroup>\r\n                        {[0, 1, 2, 3, 4, 5].map((i) => (\r\n                          <InputOTPSlot key={i} index={i} className={otpForm.formState.errors.otp ? \"border-red-400\" : \"\"} />\r\n                        ))}\r\n                      </InputOTPGroup>\r\n                      </InputOTP>\r\n                    )}\r\n                  />\r\n                  {otpForm.formState.errors.otp && <p className=\"text-red-500 text-sm\">{otpForm.formState.errors.otp.message}</p>}\r\n                  {!isFinished ? <span ref={timeRef} className=\"mt-2 text-gray-700 text-lg\">05:00</span> : <span className=\"cursor-pointer underline-offset-4\" onClick={forgotPasswordForm.handleSubmit(handleForgotPasswordSubmit)}>Gửi lại mã OTP</span>}\r\n                  <Button isLoading={loadingOtp} className=\"bg-btn_dark_brownish hover:bg-btn_light_brownish w-full font-bold\">\r\n                    Xác nhận\r\n                  </Button>\r\n                  <Link href=\"/login\" className=\"flex items-center underline-offset-4 text-sm\">\r\n                    <ChevronLeft className=\"mr-1 h-5 w-5\" /> Trở lại đăng nhập\r\n                  </Link>\r\n                </form>\r\n              )}\r\n\r\n              {/* Step 3: Reset password */}\r\n              {step === Step.RESET_PASSWORD && (\r\n                <form onSubmit={resetPasswordForm.handleSubmit(handleResetPasswordSubmit)} className=\"flex flex-col gap-4 md:py-20 py-6\">\r\n                  <h1 className=\"text-2xl font-bold\">Thay đổi mật khẩu</h1>\r\n                  <span>Thay đổi mật khẩu mới</span>\r\n                  <div className=\"relative\">\r\n                    <Input {...resetPasswordForm.register(\"newPassword\")} type={showPassword ? \"text\" : \"password\"} placeholder=\"Mật khẩu\" />\r\n                    <button type=\"button\" onClick={() => setShowPassword((prev) => !prev)} className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400\">\r\n                      {showPassword ? <EyeIcon className=\"w-5 h-5\" /> : <EyeClosedIcon className=\"w-5 h-5\" />}\r\n                    </button>\r\n                  </div>\r\n                  {resetPasswordForm.formState.errors.newPassword && (\r\n                    <p className=\"text-red-500 text-sm\">{resetPasswordForm.formState.errors.newPassword.message}</p>\r\n                  )}\r\n                  <Input {...resetPasswordForm.register(\"confirmPassword\")} type={showPassword ? \"text\" : \"password\"} placeholder=\"Xác nhận mật khẩu\" />\r\n                  {resetPasswordForm.formState.errors.confirmPassword && (\r\n                    <p className=\"text-red-500 text-sm\">{resetPasswordForm.formState.errors.confirmPassword.message}</p>\r\n                  )}\r\n                  <Button type=\"submit\" isLoading={loadingReset} className=\"bg-btn_dark_brownish hover:bg-btn_light_brownish w-full font-bold\">\r\n                    Thay đổi\r\n                  </Button>\r\n                </form>\r\n              )}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}