{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///D:/D%E1%BB%B1%20%C3%81n/indecovietnam/indeco-client/src/components/BlogDetail.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/BlogDetail.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/BlogDetail.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAiS,GAC9T,+DACA","debugId":null}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///D:/D%E1%BB%B1%20%C3%81n/indecovietnam/indeco-client/src/components/BlogDetail.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/BlogDetail.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/BlogDetail.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA6Q,GAC1S,2CACA","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///D:/D%E1%BB%B1%20%C3%81n/indecovietnam/indeco-client/src/lib/axiosClient.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Result } from \"@/constants/common\";\r\nimport axios, { AxiosError, AxiosRequestConfig } from \"axios\";\r\n\r\n// ======== Biến toàn cục ========\r\nlet isRefreshing = false;\r\nlet failedQueue: {\r\n    resolve: (token: string) => void;\r\n    reject: (error: AxiosError) => void;\r\n}[] = [];\r\n\r\n// ======== Hàm xử lý queue ========\r\nconst processQueue = (error: AxiosError | null, token: string | null = null) => {\r\n    failedQueue.forEach(prom => {\r\n        if (token) prom.resolve(token);\r\n        else prom.reject(error!);\r\n    });\r\n    failedQueue = [];\r\n};\r\n\r\n// ======== Hàm decode JWT ========\r\nconst parseJwt = (token: string): any => {\r\n    try {\r\n        return JSON.parse(atob(token.split(\".\")[1]));\r\n    } catch {\r\n        return null;\r\n    }\r\n};\r\n\r\n// ======== Hàm refresh token ========\r\nconst refreshAccessToken = async (): Promise<string | null> => {\r\n    try {\r\n        const response = await axios.post<Result<{ accessToken: string }>>(\r\n            `${process.env.NEXT_PUBLIC_API_URL}customer/refresh-token`,\r\n            {},\r\n            { withCredentials: true }\r\n        );\r\n        const newToken = response.data.data?.accessToken;\r\n        if (newToken) {\r\n            localStorage.setItem(\"accessToken\", newToken);\r\n            axiosClient.defaults.headers.Authorization = `Bearer ${newToken}`;\r\n        }\r\n        return newToken || null;\r\n    } catch (error) {\r\n        return null;\r\n    }\r\n};\r\n\r\n// ======== Axios instance ========\r\nconst axiosClient = axios.create({\r\n    baseURL: process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000/api\",\r\n    timeout: 50000,\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    withCredentials: true,\r\n});\r\n\r\n// ======== Request Interceptor ========\r\naxiosClient.interceptors.request.use(\r\n    async (config) => {\r\n        const requiresAuth = (config as AxiosRequestConfig & { requiresAuth?: boolean }).requiresAuth;\r\n        if (!requiresAuth) return config;\r\n\r\n        const token = typeof window !== \"undefined\" ? localStorage.getItem(\"accessToken\") : null;\r\n        if (!token) return config;\r\n\r\n        // Check token expiration\r\n        const payload = parseJwt(token);\r\n        const now = Date.now() / 1000;\r\n        if (payload?.exp && now >= payload.exp - 60) { // refresh trước 60s\r\n            if (isRefreshing) {\r\n                // Nếu đang refresh, đợi token mới\r\n                const newToken = await new Promise<string>((resolve, reject) => {\r\n                    failedQueue.push({ resolve, reject });\r\n                });\r\n                config.headers.Authorization = `Bearer ${newToken}`;\r\n                return config;\r\n            }\r\n\r\n            isRefreshing = true;\r\n            const newToken = await refreshAccessToken();\r\n            isRefreshing = false;\r\n\r\n            if (newToken) {\r\n                processQueue(null, newToken);\r\n                config.headers.Authorization = `Bearer ${newToken}`;\r\n            } else {\r\n                processQueue(new AxiosError(\"Refresh token failed\"), null);\r\n            }\r\n        } else {\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n\r\n        return config;\r\n    },\r\n    (error) => Promise.reject(error)\r\n);\r\n\r\n// ======== Response Interceptor (fallback khi vẫn bị 401) ========\r\naxiosClient.interceptors.response.use(\r\n    (response) => response,\r\n    async (error: AxiosError) => {\r\n        const originalRequest = error.config as AxiosRequestConfig & { _retry?: boolean };\r\n\r\n        if (error.response?.status === 401 && !originalRequest._retry) {\r\n            originalRequest._retry = true;\r\n\r\n            if (isRefreshing) {\r\n                return new Promise((resolve, reject) => {\r\n                    failedQueue.push({ resolve, reject });\r\n                }).then((token) => {\r\n                    if (originalRequest.headers) {\r\n                        originalRequest.headers.Authorization = `Bearer ${token}`;\r\n                    }\r\n                    return axiosClient(originalRequest);\r\n                });\r\n            }\r\n\r\n            isRefreshing = true;\r\n            const newToken = await refreshAccessToken();\r\n            isRefreshing = false;\r\n\r\n            if (newToken) {\r\n                processQueue(null, newToken);\r\n                if (originalRequest.headers) {\r\n                    originalRequest.headers.Authorization = `Bearer ${newToken}`;\r\n                }\r\n                return axiosClient(originalRequest);\r\n            } else {\r\n                processQueue(error, null);\r\n            }\r\n        }\r\n\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nexport default axiosClient;\r\n"],"names":[],"mappings":"AAAA,oDAAoD,GACpD,qDAAqD;;;AAErD;;AAEA,kCAAkC;AAClC,IAAI,eAAe;AACnB,IAAI,cAGE,EAAE;AAER,oCAAoC;AACpC,MAAM,eAAe,CAAC,OAA0B,QAAuB,IAAI;IACvE,YAAY,OAAO,CAAC,CAAA;QAChB,IAAI,OAAO,KAAK,OAAO,CAAC;aACnB,KAAK,MAAM,CAAC;IACrB;IACA,cAAc,EAAE;AACpB;AAEA,mCAAmC;AACnC,MAAM,WAAW,CAAC;IACd,IAAI;QACA,OAAO,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE;IAC9C,EAAE,OAAM;QACJ,OAAO;IACX;AACJ;AAEA,sCAAsC;AACtC,MAAM,qBAAqB;IACvB,IAAI;QACA,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAC7B,uFAAmC,sBAAsB,CAAC,EAC1D,CAAC,GACD;YAAE,iBAAiB;QAAK;QAE5B,MAAM,WAAW,SAAS,IAAI,CAAC,IAAI,EAAE;QACrC,IAAI,UAAU;YACV,aAAa,OAAO,CAAC,eAAe;YACpC,YAAY,QAAQ,CAAC,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,UAAU;QACrE;QACA,OAAO,YAAY;IACvB,EAAE,OAAO,OAAO;QACZ,OAAO;IACX;AACJ;AAEA,mCAAmC;AACnC,MAAM,cAAc,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC7B,SAAS,uFAAmC;IAC5C,SAAS;IACT,SAAS;QAAE,gBAAgB;IAAmB;IAC9C,iBAAiB;AACrB;AAEA,wCAAwC;AACxC,YAAY,YAAY,CAAC,OAAO,CAAC,GAAG,CAChC,OAAO;IACH,MAAM,eAAe,AAAC,OAA2D,YAAY;IAC7F,IAAI,CAAC,cAAc,OAAO;IAE1B,MAAM,QAAQ,6EAAsE;IACpF,wCAAY,OAAO;;IAEnB,yBAAyB;IACzB,MAAM;IACN,MAAM;AA0BV,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAG9B,mEAAmE;AACnE,YAAY,YAAY,CAAC,QAAQ,CAAC,GAAG,CACjC,CAAC,WAAa,UACd,OAAO;IACH,MAAM,kBAAkB,MAAM,MAAM;IAEpC,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,CAAC,gBAAgB,MAAM,EAAE;QAC3D,gBAAgB,MAAM,GAAG;QAEzB,IAAI,cAAc;YACd,OAAO,IAAI,QAAQ,CAAC,SAAS;gBACzB,YAAY,IAAI,CAAC;oBAAE;oBAAS;gBAAO;YACvC,GAAG,IAAI,CAAC,CAAC;gBACL,IAAI,gBAAgB,OAAO,EAAE;oBACzB,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;gBAC7D;gBACA,OAAO,YAAY;YACvB;QACJ;QAEA,eAAe;QACf,MAAM,WAAW,MAAM;QACvB,eAAe;QAEf,IAAI,UAAU;YACV,aAAa,MAAM;YACnB,IAAI,gBAAgB,OAAO,EAAE;gBACzB,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,UAAU;YAChE;YACA,OAAO,YAAY;QACvB,OAAO;YACH,aAAa,OAAO;QACxB;IACJ;IAEA,OAAO,QAAQ,MAAM,CAAC;AAC1B;uCAGW","debugId":null}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///D:/D%E1%BB%B1%20%C3%81n/indecovietnam/indeco-client/src/lib/APIClient.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { AxiosRequestConfig, AxiosError, AxiosResponse } from 'axios';\r\nimport axiosInstance from './axiosClient';\r\nimport { Result } from '@/constants/common';\r\n\r\nclass APIClient {\r\n  get<T = any>(config: AxiosRequestConfig): Promise<T> {\r\n    return this.request<T>({ ...config, method: 'GET' });\r\n  }\r\n\r\n  post<T = any>(config: AxiosRequestConfig): Promise<T> {\r\n    return this.request<T>({ ...config, method: 'POST' });\r\n  }\r\n\r\n  put<T = any>(config: AxiosRequestConfig): Promise<T> {\r\n    return this.request<T>({ ...config, method: 'PUT' });\r\n  }\r\n\r\n  delete<T = any>(config: AxiosRequestConfig): Promise<T> {\r\n    return this.request<T>({ ...config, method: 'DELETE' });\r\n  }\r\n\r\n  request<T = any>(config: AxiosRequestConfig): Promise<T> {\r\n    return new Promise((resolve, reject) => {\r\n      axiosInstance\r\n        .request<any, AxiosResponse<Result>>(config)\r\n        .then((res: AxiosResponse<Result>) => {\r\n          resolve(res as unknown as Promise<T>);\r\n        })\r\n        .catch((e: Error | AxiosError) => {\r\n          reject(e);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default new APIClient();"],"names":[],"mappings":"AAAA,qDAAqD;;;AAErD;;AAGA,MAAM;IACJ,IAAa,MAA0B,EAAc;QACnD,OAAO,IAAI,CAAC,OAAO,CAAI;YAAE,GAAG,MAAM;YAAE,QAAQ;QAAM;IACpD;IAEA,KAAc,MAA0B,EAAc;QACpD,OAAO,IAAI,CAAC,OAAO,CAAI;YAAE,GAAG,MAAM;YAAE,QAAQ;QAAO;IACrD;IAEA,IAAa,MAA0B,EAAc;QACnD,OAAO,IAAI,CAAC,OAAO,CAAI;YAAE,GAAG,MAAM;YAAE,QAAQ;QAAM;IACpD;IAEA,OAAgB,MAA0B,EAAc;QACtD,OAAO,IAAI,CAAC,OAAO,CAAI;YAAE,GAAG,MAAM;YAAE,QAAQ;QAAS;IACvD;IAEA,QAAiB,MAA0B,EAAc;QACvD,OAAO,IAAI,QAAQ,CAAC,SAAS;YAC3B,yHAAA,CAAA,UAAa,CACV,OAAO,CAA6B,QACpC,IAAI,CAAC,CAAC;gBACL,QAAQ;YACV,GACC,KAAK,CAAC,CAAC;gBACN,OAAO;YACT;QACJ;IACF;AACF;uCAIe,IAAI","debugId":null}},
    {"offset": {"line": 303, "column": 0}, "map": {"version":3,"sources":["file:///D:/D%E1%BB%B1%20%C3%81n/indecovietnam/indeco-client/src/services/blogService.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport APIClient from \"@/lib/APIClient\";\r\n\r\nexport enum BlogApi {\r\n  getBlog = \"/blog\",\r\n  getCategoryBlog = \"/blog-category\",\r\n}\r\n\r\nconst getAllBlogs = async ({ params }: { params?: any }) => await APIClient.get({ url: BlogApi.getBlog, params });\r\nconst getBlogBySlug = async (slug: string) => await APIClient.get({ url: `${BlogApi.getBlog}/slug/${slug}` });\r\nconst getAllBlogCategory = async () => await APIClient.get({ url: BlogApi.getCategoryBlog });\r\nconst getBlogCategoryBySlug = async (slug: string) => await APIClient.get({ url: `${BlogApi.getCategoryBlog}/slug/${slug}` });\r\n\r\nexport { \r\n    getAllBlogs,\r\n    getBlogBySlug,\r\n    getAllBlogCategory,\r\n    getBlogCategoryBySlug\r\n}"],"names":[],"mappings":"AAAA,qDAAqD;;;;;;;AACrD;;AAEO,IAAA,AAAK,iCAAA;;;WAAA;;AAKZ,MAAM,cAAc,OAAO,EAAE,MAAM,EAAoB,GAAK,MAAM,uHAAA,CAAA,UAAS,CAAC,GAAG,CAAC;QAAE,GAAG;QAAmB;IAAO;AAC/G,MAAM,gBAAgB,OAAO,OAAiB,MAAM,uHAAA,CAAA,UAAS,CAAC,GAAG,CAAC;QAAE,KAAK,WAAmB,MAAM,EAAE,MAAM;IAAC;AAC3G,MAAM,qBAAqB,UAAY,MAAM,uHAAA,CAAA,UAAS,CAAC,GAAG,CAAC;QAAE,GAAG;IAA0B;AAC1F,MAAM,wBAAwB,OAAO,OAAiB,MAAM,uHAAA,CAAA,UAAS,CAAC,GAAG,CAAC;QAAE,KAAK,oBAA2B,MAAM,EAAE,MAAM;IAAC","debugId":null}},
    {"offset": {"line": 337, "column": 0}, "map": {"version":3,"sources":["file:///D:/D%E1%BB%B1%20%C3%81n/indecovietnam/indeco-client/src/app/blog/%5Bslug%5D/page.tsx"],"sourcesContent":["import BlogDetail from \"@/components/BlogDetail\";\r\nimport { getBlogBySlug } from \"@/services/blogService\";\r\nimport type { Metadata } from 'next'\r\nimport React from \"react\";\r\n\r\ntype Props = {\r\n  params: Promise<{ slug: string }>;\r\n};\r\n \r\nexport async function generateMetadata({ params }: Props): Promise<Metadata> {\r\n  const { slug } = await params;\r\n \r\n  // fetch post information\r\n  const post = await getBlogBySlug(slug);\r\n\r\n  if (!post?.data?.data) {\r\n    return {\r\n      title: \"Bài viết không tồn tại | Indeco VietNam\",\r\n      description: \"Trang này không tìm thấy hoặc đã bị xoá.\",\r\n      robots: { index: false, follow: false },\r\n    };\r\n  }\r\n\r\n  const { title, description, image, updated_at, created_at, author, tag } = post.data.data;\r\n\r\n  const url = `${process.env.NEXT_PUBLIC_SITE_URL}/blog/${slug}`;\r\n \r\n  return {\r\n    title: `${title} | Indeco VietNam`,\r\n    description,\r\n    keywords: [title, \"blog\", \"tin tức\", ...tag],\r\n    alternates: {\r\n      canonical: url,\r\n    },\r\n    openGraph: {\r\n      title,\r\n      description,\r\n      images: [{\r\n        url: image || \"/default-og.png\",\r\n        width: 1200,\r\n        height: 630,\r\n        alt: title,\r\n      }],\r\n      locale: \"vi_VN\",\r\n      type: \"article\",\r\n      authors: author.fullname, \r\n      publishedTime: created_at,\r\n      modifiedTime: updated_at,\r\n    },\r\n    twitter: {\r\n      card: \"summary_large_image\",\r\n      title,\r\n      description,\r\n      images: [image || \"/default-og.png\"],\r\n    },\r\n    robots: {\r\n      index: true,\r\n      follow: true,\r\n    },\r\n  }\r\n}\r\n\r\nconst BlogPage = async ({ params}: {params: Promise<{ slug: string }>}) => {\r\n\r\n    const { slug } = await params;\r\n\r\n    return (\r\n        <>\r\n           <BlogDetail slug={slug} />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default BlogPage;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAQO,eAAe,iBAAiB,EAAE,MAAM,EAAS;IACtD,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM;IAEvB,yBAAyB;IACzB,MAAM,OAAO,MAAM,CAAA,GAAA,8HAAA,CAAA,gBAAa,AAAD,EAAE;IAEjC,IAAI,CAAC,MAAM,MAAM,MAAM;QACrB,OAAO;YACL,OAAO;YACP,aAAa;YACb,QAAQ;gBAAE,OAAO;gBAAO,QAAQ;YAAM;QACxC;IACF;IAEA,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,KAAK,IAAI,CAAC,IAAI;IAEzF,MAAM,MAAM,6DAAoC,MAAM,EAAE,MAAM;IAE9D,OAAO;QACL,OAAO,GAAG,MAAM,iBAAiB,CAAC;QAClC;QACA,UAAU;YAAC;YAAO;YAAQ;eAAc;SAAI;QAC5C,YAAY;YACV,WAAW;QACb;QACA,WAAW;YACT;YACA;YACA,QAAQ;gBAAC;oBACP,KAAK,SAAS;oBACd,OAAO;oBACP,QAAQ;oBACR,KAAK;gBACP;aAAE;YACF,QAAQ;YACR,MAAM;YACN,SAAS,OAAO,QAAQ;YACxB,eAAe;YACf,cAAc;QAChB;QACA,SAAS;YACP,MAAM;YACN;YACA;YACA,QAAQ;gBAAC,SAAS;aAAkB;QACtC;QACA,QAAQ;YACN,OAAO;YACP,QAAQ;QACV;IACF;AACF;AAEA,MAAM,WAAW,OAAO,EAAE,MAAM,EAAsC;IAElE,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM;IAEvB,qBACI;kBACG,cAAA,8OAAC,gIAAA,CAAA,UAAU;YAAC,MAAM;;;;;;;AAG7B;uCAEe","debugId":null}}]
}